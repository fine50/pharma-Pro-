<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¯Ø®ÙˆÙ„ Ø§Ù„ØµÙŠØ¯Ù„ÙŠ | Pharma Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style> 
        body { font-family: 'Tajawal', sans-serif; background-color: #f8fafc; }
        
        .glass { 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(12px); 
            border-bottom: 1px solid rgba(220, 220, 220, 0.4); 
        }
        
        .input-pharma { 
            background-color: #f8fafc; 
            border: 1px solid #e2e8f0; 
            color: #1e293b; 
            transition: all 0.3s;
        }
        .input-pharma:focus { 
            background-color: #ffffff;
            border-color: #16a34a; 
            box-shadow: 0 0 0 4px rgba(22, 163, 74, 0.1); 
            outline: none;
        }
        
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .blob { position: fixed; filter: blur(50px); z-index: -1; opacity: 0.6; }
        .animate-float { animation: float 8s ease-in-out infinite; }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-15px); } 100% { transform: translateY(0px); } }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center relative overflow-x-hidden text-slate-800">

    <!-- Ø®Ù„ÙÙŠØ© Ø¬Ù…Ø§Ù„ÙŠØ© Ø«Ø§Ø¨ØªØ© -->
    <div class="blob bg-green-200 w-64 h-64 rounded-full top-0 right-0 mix-blend-multiply animate-float"></div>
    <div class="blob bg-blue-200 w-64 h-64 rounded-full bottom-0 left-0 mix-blend-multiply animate-float" style="animation-delay: 2s"></div>

    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header class="glass fixed top-0 w-full z-50 shadow-sm">
        <div class="max-w-lg mx-auto px-4 py-3 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 group">
                <div class="bg-slate-50 p-2 rounded-xl group-hover:bg-green-50 transition border border-slate-200">
                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 12H5m7 7l-7-7 7-7"></path></svg>
                </div>
            </a>
            <h1 class="text-lg font-bold tracking-tight text-slate-800">Ø¨ÙˆØ§Ø¨Ø© <span class="text-green-600">Ø§Ù„ØµÙŠØ§Ø¯Ù„Ø©</span></h1>
            <div class="w-10"></div>
        </div>
    </header>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
    <!-- ØªÙ… ØªØ¹Ø¯ÙŠÙ„ mt-28 Ø¥Ù„Ù‰ mt-24 Ù„Ø±ÙØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‚Ù„ÙŠÙ„Ø§Ù‹ -->
    <main class="w-full max-w-sm px-4 mt-24 flex-1 flex flex-col items-center justify-center min-h-[calc(100vh-6rem)]">

        <!-- Ø§Ù„Ø´Ø¹Ø§Ø± (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø­Ø°Ù Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø·) -->
        <div class="mb-6 text-center relative z-10 animate-fade-in w-full">
            <h1 class="text-5xl font-black text-slate-800 tracking-tighter drop-shadow-sm mb-2">Pharma <span class="text-green-600">Pro</span></h1>
            <p class="text-gray-400 text-sm font-bold tracking-wide">Ø§Ù†Ø¶Ù… Ù„Ø´Ø¨ÙƒØ© ÙØ§Ø¹Ù„ÙŠ Ø§Ù„Ø®ÙŠØ±</p>
        </div>

        <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div class="bg-white p-6 rounded-[2rem] w-full border border-slate-100 shadow-xl shadow-slate-200/50 relative mb-10 z-10 animate-fade-in">
            
            <!-- Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
            <div class="flex border-b border-gray-100 mb-6">
                <button onclick="switchTab('login')" id="tab-login" class="flex-1 pb-3 text-sm font-bold border-b-2 border-green-500 text-green-600 transition-all duration-300">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
                <button onclick="switchTab('register')" id="tab-register" class="flex-1 pb-3 text-sm font-bold border-b-2 border-transparent text-gray-400 hover:text-gray-600 transition-all duration-300">Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
            </div>

            <!-- 1. Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Login) -->
            <div id="loginForm" class="space-y-4">
                <div>
                    <label class="text-[10px] font-bold text-gray-400 pr-1">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="loginEmail" class="w-full input-pharma rounded-xl p-3.5 text-sm font-bold text-left" dir="ltr">
                </div>
                <div>
                    <label class="text-[10px] font-bold text-gray-400 pr-1">ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±</label>
                    <input type="password" id="loginPassword" class="w-full input-pharma rounded-xl p-3.5 text-sm font-bold">
                </div>
                
                <div class="flex justify-end">
                    <button type="button" onclick="openForgotModal()" class="text-xs text-green-600 hover:text-green-700 font-bold transition">
                        Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±ØŸ
                    </button>
                </div>

                <!-- Ø²Ø± Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                <button type="button" id="sellerLoginBtn" class="w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-4 rounded-xl shadow-lg mt-2 transition transform active:scale-[0.98] text-sm">
                    Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                </button>
            </div>

            <!-- 2. Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Register) -->
            <div id="registerForm" class="space-y-4 hidden">
                <!-- Ø§Ø³Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© -->
                <div>
                    <label class="text-[10px] font-bold text-gray-400 pr-1">Ø§Ø³Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©</label>
                    <input type="text" id="shopName" class="w-full input-pharma rounded-xl p-3.5 text-sm font-bold">
                </div>
                
                <!-- Ø²Ø± GPS ÙˆØ­Ù‚Ù„ Ù…Ø®ÙÙŠ -->
                <div class="bg-blue-50 border border-blue-100 rounded-xl p-3 text-center">
                    <input type="hidden" id="gpsLink"> <!-- Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø®ÙÙŠ Ø§Ù„Ø°ÙŠ ÙŠÙ‚Ø±Ø£ Ù…Ù†Ù‡ logic.js -->
                    <button type="button" onclick="getCurrentLocation()" id="btnGeo" class="w-full bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold py-3 rounded-lg shadow-md transition flex items-center justify-center gap-2 mb-1">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© (GPS)
                    </button>
                    <p id="geoStatus" class="text-[9px] text-blue-400 font-medium">Ø¶Ø±ÙˆØ±ÙŠ Ù„ÙŠØªÙ…ÙƒÙ† Ø§Ù„Ù…Ø±Ø¶Ù‰ Ù…Ù† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙƒ</p>
                </div>

                <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
                <div>
                    <label class="text-[10px] font-bold text-gray-400 pr-1">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                    <input type="email" id="email" class="w-full input-pharma rounded-xl p-3.5 text-sm font-bold text-left" dir="ltr">
                </div>
                
                <div>
                    <label class="text-[10px] font-bold text-gray-400 pr-1">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                    <input type="tel" id="phone" class="w-full input-pharma rounded-xl p-3.5 text-sm font-bold text-left font-mono" dir="ltr">
                </div>
                
                <div>
                    <label class="text-[10px] font-bold text-gray-400 pr-1">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" class="w-full input-pharma rounded-xl p-3.5 text-sm font-bold">
                </div>

                <!-- Ø²Ø± Ø§Ù„ØªØ³Ø¬ÙŠÙ„ -->
                <button type="button" id="authBtn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-lg mt-2 transition transform active:scale-[0.98] text-sm">
                    Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
                </button>
            </div>
        </div>

    </main>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± -->
    <div id="forgotModal" class="help-modal fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-xs p-6 rounded-[2rem] shadow-2xl relative border border-gray-100 animate-fade-in">
            <button onclick="closeForgotModal()" class="absolute top-4 left-4 text-gray-400 hover:text-red-500 transition bg-gray-50 rounded-full p-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <div class="text-center mb-6 pt-2">
                <div class="w-12 h-12 bg-green-50 text-green-500 rounded-2xl flex items-center justify-center mx-auto mb-3 text-xl shadow-sm border border-green-100">ğŸ”’</div>
                <h3 class="text-lg font-black text-slate-800">Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø­Ø³Ø§Ø¨</h3>
                <p class="text-xs text-gray-400 mt-1">Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ¹ÙŠÙŠÙ†</p>
            </div>
            <input type="email" id="forgotEmail" placeholder="name@example.com" class="w-full input-pharma rounded-xl p-3.5 text-sm mb-4 text-left" dir="ltr">
            <button id="btnSendReset" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3.5 rounded-xl shadow-md transition text-sm">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø·</button>
        </div>
    </div>

    <script>
        // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡Ø§ Ù„ØªØ¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø²Ø±ÙŠÙ† Ø§Ù„Ù…Ø®ØªÙ„ÙÙŠÙ†)
        function switchTab(type) {
            const tabLogin = document.getElementById('tab-login');
            const tabReg = document.getElementById('tab-register');
            const loginForm = document.getElementById('loginForm');
            const regForm = document.getElementById('registerForm');

            const activeStyle = "flex-1 pb-3 text-sm font-bold border-b-2 border-green-500 text-green-600 transition-all duration-300";
            const inactiveStyle = "flex-1 pb-3 text-sm font-bold border-b-2 border-transparent text-gray-400 hover:text-gray-600 transition-all duration-300";

            if (type === 'login') {
                loginForm.classList.remove('hidden');
                regForm.classList.add('hidden');
                tabLogin.className = activeStyle;
                tabReg.className = inactiveStyle;
            } else {
                loginForm.classList.add('hidden');
                regForm.classList.remove('hidden');
                tabReg.className = activeStyle;
                tabLogin.className = inactiveStyle;
            }
        }

        // Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ GPS
        function getCurrentLocation() {
            const btn = document.getElementById('btnGeo');
            const status = document.getElementById('geoStatus');
            const input = document.getElementById('gpsLink');

            if (!navigator.geolocation) {
                status.innerText = "âŒ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹";
                return;
            }

            btn.disabled = true;
            btn.innerHTML = `<span class="animate-spin">âŒ›</span> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ¯...`;

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    const link = `https://www.google.com/maps?q=${lat},${lng}`;
                    
                    // ÙˆØ¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø®ÙÙŠ Ù„ÙŠÙ‚Ø±Ø£Ù‡ logic.js
                    input.value = link;
                    
                    status.innerHTML = `<span class="text-green-600 font-bold">âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ù†Ø¬Ø§Ø­!</span>`;
                    btn.innerHTML = `<span>ğŸ“</span> ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…ÙˆÙ‚Ø¹`;
                    btn.className = "w-full bg-green-600 text-white text-xs font-bold py-3 rounded-lg shadow-sm flex items-center justify-center gap-2 mb-1";
                },
                (error) => {
                    console.error(error);
                    status.innerText = "âŒ ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ GPS)";
                    btn.disabled = false;
                    btn.innerHTML = `<span>ğŸ“</span> Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰`;
                },
                { enableHighAccuracy: true }
            );
        }

        function openForgotModal() { document.getElementById('forgotModal').classList.remove('hidden'); }
        function closeForgotModal() { document.getElementById('forgotModal').classList.add('hidden'); }
    </script>

    <!-- Ø±Ø¨Ø· Ù…Ù„Ù Ø§Ù„Ù…Ù†Ø·Ù‚ -->
    <script type="module" src="./logic.js"></script>
</body>
</html>